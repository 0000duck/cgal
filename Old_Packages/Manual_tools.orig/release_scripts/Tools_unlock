#!/bin/sh


if [ $# -ne 1 ]; then
  echo "Usage $0 <source directory>"
  exit 1
elif [ $1 = "." ]; then
  SOURCE_DIR=`pwd`
else
  SOURCE_DIR=$1
fi

if [ ! -d $SOURCE_DIR ]; then
  echo "Directory $SOURCE_DIR does not exist"
  exit 1
fi

cd $SOURCE_DIR/doc 
echo
echo "Updating in doc directory"
echo
   rcs -u cc_extract.tex 
   rcs -u cc_manual.tex 
   rcs -u cc_manual_appendix.tex 
   rcs -u cc_manual_index.tex 
   rcs -u cc_manual_index_appendix.tex 
   rcs -u disclaimer.tex
   rcs -u latex_to_html.tex
   rcs -u manual.bib 

cd $SOURCE_DIR/format
echo 
echo "Updating in format directory"
echo
   rcs -u cc_manual.sty
   rcs -u cc_manual_index.sty
   rcs -u index_test.tex
   rcs -u latex_converter.sty
   rcs -u test.tex

cd $SOURCE_DIR/scripts
echo
echo "Updating in scripts directory"
echo
   rcs -u add_part_num
   rcs -u cc_make_ref_pages
   rcs -u cc_ref_wizard
   rcs -u cc_ref_wizard_rc
   rcs -u index_fix

cd $SOURCE_DIR/src
echo
echo "Updating in src directory"
echo
  rcs -u basic.C                     
  rcs -u basic.h                     
  rcs -u buffer.C                    
  rcs -u buffer.h                    
  rcs -u cc_build_checker.C          
  rcs -u cc_check                   
  rcs -u cc_check_include           
  rcs -u cc_check_include_html      
  rcs -u cc_extract.C                
  rcs -u cc_extract_html.C           
  rcs -u cc_extract_images.C         
  rcs -u cc_extract_include         
  rcs -u cc_gif_creator             
  rcs -u cc_index_sort.c             
  rcs -u cc_manual_to_html          
  rcs -u cc_patch_anchor_filter     
  rcs -u cc_patch_anchor_pages      
  rcs -u cc_patch_anchor_toc_index  
  rcs -u cc_remove_unwanted_links  
  rcs -u cc_unique.c                 
  rcs -u config.h                    
  rcs -u cpp_formatting.C            
  rcs -u cpp_formatting.h            
  rcs -u extract_lex.yy              
  rcs -u extract_syntax.y            
  rcs -u html_config.h               
  rcs -u html_error.C
  rcs -u html_error.h
  rcs -u html_lex.h
  rcs -u html_lex.yy
  rcs -u html_syntax.h
  rcs -u html_syntax.y
  rcs -u INSTALLATION
  rcs -u internal_macros.C
  rcs -u internal_macros.h
  rcs -u lex_include.h
  rcs -u lex_include_impl.h
  rcs -u macro_dictionary.C
  rcs -u macro_dictionary.h
  rcs -u Makefile
  rcs -u Makefile_depend
  rcs -u mstring.doc
  rcs -u mstring.h
  rcs -u mstring.html
  rcs -u mstring.ps.gz
  rcs -u mstring_old.h
  rcs -u output.C
  rcs -u output.h
  rcs -u README
  rcs -u string_conversion.C
  rcs -u string_conversion.h

cd $SOURCE_DIR/src/latex_converter_config/html
echo
echo "Updating src/latex_converter_config/html directory"
echo
  rcs -u alltt.sty
  rcs -u cc_anchor_footer
  rcs -u cc_anchor_header
  rcs -u cc_biblio_footer
  rcs -u cc_biblio_header
  rcs -u cc_index_footer
  rcs -u cc_index_header
  rcs -u cc_manual.sty
  rcs -u cc_manual_index.sty
  rcs -u cc_manual_footer
  rcs -u cc_manual_header
  rcs -u cc_toc_footer
  rcs -u cc_toc_header
  rcs -u cprog.sty
  rcs -u default.sty
  rcs -u latex.sty
  rcs -u latex_converter.sty
  rcs -u path.sty

cd $SOURCE_DIR/src/latex_converter_config/ref_pages
echo
echo "Updating src/latex_converter_config/ref_pages directory"
echo
   rcs -u Class.tex
   rcs -u Concept.tex
   rcs -u Constant.tex
   rcs -u Enum.tex
   rcs -u footer.tex
   rcs -u Function.tex
   rcs -u FunctionObjectClass.tex
   rcs -u FunctionObjectConcept.tex
   rcs -u header.tex
   rcs -u Macro.tex
   rcs -u Variable.tex
