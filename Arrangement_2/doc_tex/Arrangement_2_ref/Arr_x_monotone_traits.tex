% +------------------------------------------------------------------------+
% | Reference manual page: ArrangementXMonotoneTraits.tex
% +------------------------------------------------------------------------+
% | 
% | Package: Arrangement_2
% | 
% +------------------------------------------------------------------------+

\ccRefPageBegin

\begin{ccRefConcept}{ArrangementXMonotoneTraits_2}

\ccThree{ArrangementXMonotoneTraits::Has_merge_category}{}{}
\ccThreeToTwo

\ccDefinition

This concept refines the basic arrangement-traits concept. A model of
this concept is able to handle $x$-monotone curves that intersect in
their interior (and points that conincide with curve interiors). This
is necessary for constructing arrangements of sets of intersecting
$x$-monotone curves.

As the resulting structure, represented by the \ccc{Arrangement_2} class,
stores pairwise interior-disjoint curves, the input curves are split at
the intersection points before being inserted into the arrangement. 
A model of this refined concept therefore needs to compute the intersections
(and possibly overlaps) between two $x$-monotone curves and to support
curve splitting. The reverse merge operation is optionally supported.

\ccRefines
\ccc{ArrangementBasicTraits_2}

\ccHeading{Tags}
%===============

\ccNestedType{Has_merge_category}{indicates whether the nested functors
                                  \ccc{Are_mergeable_2} and \ccc{Merge_2}
                                  are provided.}

\ccTypes
%=======

\ccNestedType{Multiplicity}{the multiplicity type.}


\ccHeading{Functor Types}
%========================

\ccThree{Compare_y_at_x_2}{}{\hspace*{14cm}}
\ccThreeToTwo

\ccNestedType{Intersect_2}
{provides the operator (templated by the \ccc{OutputIterator} type)~:
 \begin{itemize}
 \item \ccc{OutputIterator operator() (X_monotone_curve_2 c1, X_monotone_curve_2 c2,
                                 OutputIterator oi)} \\
 which computes the intersections of \ccc{c1} and \ccc{c2} and inserts them
 {\sl in an ascending lexicographic $xy$-order} into the output iterator.
 The value-type of \ccc{OutputIterator} is \ccc{CGAL::Object}, where each
 \ccc{Object} either wraps a \ccc{pair<Point_2,Multiplicity>} instance, which
 represents an intersection point with its multiplicity (in case the
 multiplicity is undefined or not known, it should be set to $0$) or an
 \ccc{X_monotone_curve_2} instance, representing an overlapping subcurve of
 \ccc{c1} and \ccc{c2}. The operator returns a past-the-end iterator
 for the output sequence.
 \end{itemize}}

\ccNestedType{Split_2}
{provides the operator~:
 \begin{itemize}
 \item \ccc{void operator() (X_monotone_curve_2 c, Point_2 p,
                       X_monotone_curve_2& c1, X_monotone_curve_2& c2)} \\
 which accepts an input curve \ccc{c} and a split point \ccc{p} in its
 interior. It splits \ccc{c} at the split point into two subcurves \ccc{c1}
 and \ccc{c2}, such that \ccc{p} is \ccc{c1}'s {\sl right} endpoint and
 \ccc{c2}'s {\sl left} endpoint.
 \end{itemize}} 

\ccNestedType{Are_mergeable_2}
{provides the operator~:
 \begin{itemize}
 \item \ccc{bool operator() (X_monotone_curve_2 c1, X_monotone_curve_2 c2)} \\
 which accepts two $x$-monotone curves \ccc{c1} and \ccc{c2} that share
 a common endpoint, and determines whether they can be merged to form a single
 continuous $x$-monotone curve.
 \end{itemize}
 This functor is required only if the traits class defines the
 \ccc{Has_merge_category} tag as \ccc{Tag_true}).}

\ccNestedType{Merge_2}
{provides the operator~:
 \begin{itemize}
 \item \ccc{void operator() (X_monotone_curve_2 c1, X_monotone_curve_2 c2,
                             X_monotone_curve_2& c)} \\
 which accepts two {\sl mergeable} $x$-monotone curves \ccc{c1} and \ccc{c2}
 (see above), and sets \ccc{c} to be the merged curve.
 \end{itemize}
 This functor is required only if the traits class defines the
 \ccc{Has_merge_category} tag as \ccc{Tag_true}).} 

\ccCreation
\ccCreationVariable{traits}
%==========================

\ccThree{Construct_x_monotone_curve_2~~~}{}{\hspace*{7cm}}
\ccThreeToTwo

\ccConstructor{ArrangementXMonotoneTraits_2();}{default constructor.}
\ccGlue
\ccConstructor{ArrangementXMonotoneTraits_2(ArrangementXMonotoneTraits_2 other);}
{copy constructor}
\ccGlue
\ccMethod{ArrangementXMonotoneTraits_2  operator=(other);}{assignment operator.}


\ccHeading{Accessing Functor Objects}
%====================================

\ccMethod{Intersect_2 intersect_2_object();} {}
\ccGlue
\ccMethod{Split_2 split_2_object();} {}
\ccGlue
\ccMethod{Are_mergeable_2 are_mergeable_2_object() const;} {}
\ccGlue
\ccMethod{Merge_2 merge_2_object();} {}

\ccHasModels
%===========

\ccc{CGAL::Arr_segment_traits_2<Kernel>} \\
\ccc{CGAL::Arr_non_caching_segment_traits_2<Kernel>} \\
\ccc{CGAL::Arr_polyline_traits_2<SegmentTraits>} \\
\ccc{CGAL::Arr_circle_segment_traits_2<Kernel>} \\
\ccc{CGAL::Arr_conic_traits_2<RatKernel,AlgKernel,NtTraits>} \\
\ccc{CGAL::Arr_rational_arc_traits_2<AlgKernel,NtTraits>} \\
\ccc{CGAL::Arr_curve_data_traits_2<Tr,XData,Mrg,CData,Cnv>}\\
\ccc{CGAL::Arr_consolidated_curve_data_traits_2<Traits,Data>}

\ccSeeAlso
%=========

\ccc{ArrangementBasicTraits_2}\lcTex{ 
      (\ccRefPage{ArrangementBasicTraits_2})}

\end{ccRefConcept}

\ccRefPageEnd
