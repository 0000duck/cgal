% +------------------------------------------------------------------------+
% | Reference manual page: pca_estimate_normals.tex
% +------------------------------------------------------------------------+
% | 14.02.2008   Pierre Alliez, Laurent Saboret, Gael Guennebaud
% | Package: Point_set_processing_3
% |
\RCSdef{\RCSpcanormalestimationRev}{$Id$}
\RCSdefDate{\RCSpcanormalestimationDate}{$Date$}
% |
\ccRefPageBegin
%%RefPage: end of header, begin of main body
% +------------------------------------------------------------------------+


\begin{ccRefFunction}{pca_estimate_normals}  %% add template arg's if necessary

%% \ccHtmlCrossLink{}     %% add further rules for cross referencing links
%% \ccHtmlIndexC[function]{} %% add further index entries

\ccDefinition

\ccc{CGAL::pca_estimate_normals()} estimates normal directions at all points of an input point set by linear least squares fitting of a plane over their $k$ nearest neighbors. The result is an unoriented normal for each input point.

The quality of the normal estimation algorithm highly depends on the \ccc{k} parameter.
The number of neighbors controls the width of the point subset considered for plane fitting at each input point.
Larger value leads to smoother surface approximations and better normal estimations. Obviously, it also leads to longer computation times.
For clean datasets, this value can be set to a few rings, e.g. 18. On the other hand, as the amount of noise increases, this value should be increased as well.
For these reasons, we do not provide any default value for this parameter.

\ccInclude{CGAL/pca_estimate_normals.h}

% The section below is automatically generated. Do not edit!
%START-AUTO(\ccDefinition)

% Reduce left margin
\ccThree{123456789012345}{6789012}{}

\ccFunction{template<typename InputIterator, typename PointPMap, typename NormalPMap, typename Kernel> void pca_estimate_normals(InputIterator first, InputIterator beyond, PointPMap point_pmap, NormalPMap normal_pmap, unsigned int k, const Kernel& kernel);}
{
Estimates normal directions of the [first, beyond) range of points by linear least squares fitting of a plane over the k nearest neighbors. The output normals are randomly oriented.
\ccPrecond k $>$= 2.
\ccCommentHeading{Template Parameters}  \\
\ccc{InputIterator}: iterator over input points. \ccc{PointPMap}: is a model of \ccc{boost::ReadablePropertyMap} with a \ccc{value_type} = \ccc{Point_3<Kernel>}. It can be omitted if \ccc{InputIterator} \ccc{value_type} is convertible to \ccc{Point_3<Kernel>}. \ccc{NormalPMap}: is a model of \ccc{boost::WritablePropertyMap} with a \ccc{value_type} = \ccc{Vector_3<Kernel>}. \ccc{Kernel}: Geometric traits class. It can be omitted and deduced automatically from \ccc{PointPMap} \ccc{value_type}.
\ccCommentHeading{Parameters}  \\
\ccc{first}: iterator over the first input point. \ccc{beyond}: past-the-end iterator over the input points. \ccc{point_pmap}: property map \ccc{InputIterator} -$>$ \ccc{Point_3}. \ccc{normal_pmap}: property map \ccc{InputIterator} -$>$ \ccc{Vector_3}. \ccc{k}: number of neighbors. \ccc{kernel}: geometric traits.
}
\ccGlue

%END-AUTO(\ccDefinition)

\ccSeeAlso

\ccRefIdfierPage{CGAL::jet_estimate_normals}  \\
\ccRefIdfierPage{CGAL::mst_orient_normals}  \\

\ccExample

See \ccc{normals_example.cpp}.

\end{ccRefFunction}

% +------------------------------------------------------------------------+
%%RefPage: end of main body, begin of footer
\ccRefPageEnd
% EOF
% +------------------------------------------------------------------------+

