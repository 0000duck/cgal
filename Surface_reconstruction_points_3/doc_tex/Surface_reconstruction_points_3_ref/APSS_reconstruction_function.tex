% +------------------------------------------------------------------------+
% | Reference manual page: APSS_reconstruction_function.tex
% +------------------------------------------------------------------------+
% | 02.06.2008   Pierre Alliez, Laurent Saboret, Gael Guennebaud
% | Package: Surface_reconstruction_points_3
% |
\RCSdef{\RCSAPSSreconstructionfunctionRev}{$Id$}
\RCSdefDate{\RCSAPSSreconstructionfunctionDate}{$Date$}
% |
\ccRefPageBegin
%%RefPage: end of header, begin of main body
% +------------------------------------------------------------------------+


\begin{ccRefClass}{APSS_reconstruction_function<GeomTraits>}

%% \ccHtmlCrossLink{}     %% add further rules for cross referencing links
%% \ccHtmlIndexC[class]{} %% add further index entries

\ccDefinition

% The section below is automatically generated. Do not edit!
%START-AUTO(\ccDefinition)

\ccc{APSS_reconstruction_function} computes an implicit function that defines a Point Set Surface (PSS) based on moving least squares (MLS) fitting of algebraic spheres.

This class implements a variant of the {\em Algebraic Point Set Surfaces} method by Guennebaud and Gross \cite{Guennebaud07}.

Currently, the quality of the reconstruction highly depends on both the quality of input normals and the smoothness parameter. Whereas the algorithm can tolerate a little noise in the normal direction, the normals must be consistently oriented. The smoothness parameter controls the width of the underlying low-pass filter as a factor of the local point spacing. Larger value leads to smoother surfaces and longer computation times. For clean datasets, this value should be set between 1.5 and 2.5. On the other hand, as the amount of noise increases, this value should be increased as well. For these reasons, we do not provide any default value for this parameter. The radius property should correspond to the local point spacing which can be intuitively defined as the average distance to its {\em natural} one ring neighbors. Currently, this information is only used to define the {\em surface definition domain} as the union of these balls. Outside this union of balls, the surface is not defined. Therefore, if the balls do not overlap enough, then some holes might appear. If no radius is provided, then they are automatically computed from a basic estimate of the local density based on the 16 nearest neighbors. In the future, this information might be used as well to adjust the width of the low pass filter.

Note that APSS reconstruction may create small {\em ghost} connected components close to the reconstructed surface that you should delete. For this purpose, you may call \ccc{erase_small_polyhedron_connected_components}() after \ccc{make_surface_mesh}().

%END-AUTO(\ccDefinition)

% The section below is automatically generated. Do not edit!
%START-AUTO(\ccInclude)

\ccInclude{CGAL/APSS_reconstruction_function.h}

%END-AUTO(\ccInclude)

\ccParameters

The full template declaration is:

% The section below is automatically generated. Do not edit!
%START-AUTO(\ccParameters)

template$<$  \\
class Gt$>$   \\
class \ccc{APSS_reconstruction_function};

\ccCommentHeading{Parameters}
\ccc{Gt}: Geometric traits class.

%END-AUTO(\ccParameters)

\ccIsModel

% The section below is automatically generated. Do not edit!
%START-AUTO(\ccIsModel)

Model of the \ccc{ImplicitFunction} concept.

%END-AUTO(\ccIsModel)

\ccTypes

% The section below is automatically generated. Do not edit!
%START-AUTO(\ccTypes)

\ccNestedType{Geom_traits}
{
Geometric traits class.
}
\ccGlue
\ccNestedType{FT}
{
== \ccc{Geom_traits::FT}
}
\ccGlue
\ccNestedType{Point}
{
== \ccc{Geom_traits::Point_3}
}
\ccGlue
\ccNestedType{Vector}
{
== \ccc{Geom_traits::Vector_3}
}
\ccGlue
\ccNestedType{Sphere}
{
== \ccc{Geom_traits::Sphere_3}
}
\ccGlue

%END-AUTO(\ccTypes)

\ccCreation
\ccCreationVariable{fct}  %% variable name for \ccMethod below

% The section below is automatically generated. Do not edit!
%START-AUTO(\ccCreation)

\ccConstructor{template<typename InputIterator, typename PointPMap, typename NormalPMap, typename RadiusPMap> APSS_reconstruction_function(InputIterator first, InputIterator beyond, PointPMap point_pmap, NormalPMap normal_pmap, RadiusPMap radius_pmap, FT smoothness);}
{
Creates an APSS implicit function from the [first, beyond) range of points.
\ccCommentHeading{Template Parameters}
\begin{description}
\item \ccc{InputIterator}: iterator over input points. \item \ccc{PointPMap}: is a model of \ccc{boost::ReadablePropertyMap} with a \ccc{value_type} = \ccc{Geom_traits::Point_3}. It can be omitted if \ccc{InputIterator} \ccc{value_type} is convertible to \ccc{Geom_traits::Point_3}. \item \ccc{NormalPMap}: is a model of \ccc{boost::ReadablePropertyMap} with a \ccc{value_type} = \ccc{Geom_traits::Vector_3}. \item \ccc{RadiusPMap}: is a model of \ccc{boost::ReadablePropertyMap} with a \ccc{value_type} = FT. If it is omitted, a default radius is computed = (distance max to 16 nearest neighbors)/2. \end{description}
\ccCommentHeading{Parameters}
\begin{description}
\item \ccc{first}: iterator over the first input point. \item \ccc{beyond}: past-the-end iterator. \item \ccc{point_pmap}: property map \ccc{InputIterator} -$>$ \ccc{Point_3} (access to the position of an input point). \item \ccc{normal_pmap}: property map \ccc{InputIterator} -$>$ \ccc{Vector_3} (access to the {\bf oriented} normal of an input point). \item \ccc{radius_pmap}: property map \ccc{InputIterator} -$>$ FT (access to the local point spacing of an input point). \item \ccc{smoothness}: smoothness factor. Typical choices are in the range 2 (clean datasets) and 8 (noisy datasets). \end{description}
}
\ccGlue
\ccConstructor{APSS_reconstruction_function(const APSS_reconstruction_function<Gt>& other);}
{
Copy constructor
}
\ccGlue

%END-AUTO(\ccCreation)

\ccOperations

% The section below is automatically generated. Do not edit!
%START-AUTO(\ccOperations)

\ccMethod{APSS_reconstruction_function& operator =(const APSS_reconstruction_function<Gt>& other);}
{
operator =()
}
\ccGlue
\ccMethod{void set_smoothness_factor(FT smoothness);}
{
Sets smoothness factor. Typical choices are in the range 2 (clean datasets) and 8 (noisy datasets).
}
\ccGlue
\ccMethod{const Sphere& bounding_sphere() const;}
{
Returns a sphere bounding the inferred surface.
}
\ccGlue
\ccMethod{FT operator()(const Point& p) const;}
{
\ccc{ImplicitFunction} interface: evaluates implicit function at 3D query point.
}
\ccGlue
\ccMethod{Point get_inner_point() const;}
{
Returns a point located inside the inferred surface.
}
\ccGlue

%END-AUTO(\ccOperations)

\ccSeeAlso

\ccRefIdfierPage{CGAL::Poisson_reconstruction_function<GeomTraits, ReconstructionTriangulation_3>}  \\
\ccRefIdfierPage{CGAL::erase_small_polyhedron_connected_components<Polyhedron>}  \\

\ccExample

See \ccc{APSS_reconstruction.cpp} example.

\end{ccRefClass}

% +------------------------------------------------------------------------+
%%RefPage: end of main body, begin of footer
\ccRefPageEnd
% EOF
% +------------------------------------------------------------------------+

