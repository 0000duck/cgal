% +------------------------------------------------------------------------+
% | Reference manual page: APSS_reconstruction_function.tex
% +------------------------------------------------------------------------+
% | 02.06.2008   Pierre Alliez, Laurent Saboret, Gael Guennebaud
% | Package: Surface_reconstruction_points_3
% |
\RCSdef{\RCSAPSSreconstructionfunctionRev}{$Id$}
\RCSdefDate{\RCSAPSSreconstructionfunctionDate}{$Date$}
% |
\ccRefPageBegin
%%RefPage: end of header, begin of main body
% +------------------------------------------------------------------------+


\begin{ccRefClass}{APSS_reconstruction_function<GeomTraits>}

%% \ccHtmlCrossLink{}     %% add further rules for cross referencing links
%% \ccHtmlIndexC[class]{} %% add further index entries

\ccDefinition

% The section below is automatically generated. Do not edit!
%START-AUTO(\ccDefinition)

\ccc{APSS_reconstruction_function} computes an implicit function that defines a Point Set Surface (PSS) based on moving least squares (MLS) fitting of algebraic spheres.

This class implements a variant of the {\em Algebraic Point Set Surfaces} method by Guennebaud and Gross \cite{Guennebaud07}.

The quality of the reconstruction highly depends on both the quality of input normals and the smoothness parameter. Whereas the algorithm can tolerate a little noise in the normal direction, the normals must be consistently oriented. The smoothness parameter controls the width of the underlying low-pass filter as a factor of the local point spacing. Larger value leads to smoother surfaces and longer computation times. For clean datasets, this value should be set between 1.5 and 2.5. On the other hand, as the amount of noise increases, this value should be increased as well. For these reasons, we do not provide any default value for this parameter.

The radius property should correspond to the local point spacing which can be intuitively defined as the average distance to its {\em natural} one ring neighbors. It defines the {\em surface definition domain} as the union of these balls. Outside this union of balls, the surface is not defined. Therefore, if the balls do not overlap enough, then some holes might appear. If no radius is provided, then they are automatically computed from a basic estimate of the local density based on the 16 nearest neighbors.

APSS reconstruction may create small {\em ghost} connected components close to the reconstructed surface that you should delete with e.g. \ccc{keep_largest_connected_components}().

%END-AUTO(\ccDefinition)

% The section below is automatically generated. Do not edit!
%START-AUTO(\ccInclude)

\ccInclude{CGAL/APSS_reconstruction_function.h}

%END-AUTO(\ccInclude)

\ccParameters

% The section below is automatically generated. Do not edit!
%START-AUTO(\ccParameters)

template$<$  \\
class Gt$>$   \\
class \ccc{APSS_reconstruction_function};

\ccCommentHeading{Parameters}  \\
\ccc{Gt}: Geometric traits class.

%END-AUTO(\ccParameters)

\ccIsModel

% The section below is automatically generated. Do not edit!
%START-AUTO(\ccIsModel)

Model of the \ccc{ImplicitFunction} concept.

%END-AUTO(\ccIsModel)

\ccTypes

% Enlarge left margin
\ccTwo{123456789012345678901234567890123456789012345678}{}

% The section below is automatically generated. Do not edit!
%START-AUTO(\ccTypes)

\ccNestedType{Geom_traits}
{
Geometric traits class.
}
\ccGlue
\ccNestedType{FT}
{
== \ccc{Geom_traits::FT}
}
\ccGlue
\ccNestedType{Point}
{
== \ccc{Geom_traits::Point_3}
}
\ccGlue
\ccNestedType{Vector}
{
== \ccc{Geom_traits::Vector_3}
}
\ccGlue
\ccNestedType{Sphere}
{
== \ccc{Geom_traits::Sphere_3}
}
\ccGlue

%END-AUTO(\ccTypes)

\ccCreation
\ccCreationVariable{fct}  %% variable name for \ccMethod below

% Reduce left margin
\ccTwo{1234567890123456789012}{}

% The section below is automatically generated. Do not edit!
%START-AUTO(\ccCreation)

\ccConstructor{template<typename InputIterator, typename PointPMap, typename NormalPMap, typename RadiusPMap> APSS_reconstruction_function(InputIterator first, InputIterator beyond, PointPMap point_pmap, NormalPMap normal_pmap, RadiusPMap radius_pmap, FT smoothness);}
{
Creates an APSS implicit function from the [first, beyond) range of points.
\ccCommentHeading{Template Parameters}  \\
\ccc{InputIterator}: iterator over input points. \ccc{PointPMap}: is a model of \ccc{boost::ReadablePropertyMap} with a \ccc{value_type} = \ccc{Point_3}. It can be omitted if \ccc{InputIterator} \ccc{value_type} is convertible to \ccc{Point_3}. \ccc{NormalPMap}: is a model of \ccc{boost::ReadablePropertyMap} with a \ccc{value_type} = \ccc{Vector_3}. \ccc{RadiusPMap}: is a model of \ccc{boost::ReadablePropertyMap} with a \ccc{value_type} = FT. If it is omitted, a default radius is computed.
\ccCommentHeading{Parameters}  \\
\ccc{first}: iterator over the first input point. \ccc{beyond}: past-the-end iterator. \ccc{point_pmap}: property map to access the position of an input point. \ccc{normal_pmap}: property map to access the {\bf oriented} normal of an input point. \ccc{radius_pmap}: property map to access the local point spacing of an input point. \ccc{smoothness}: smoothness factor. Typical choices are in the range 2 (clean datasets) and 8 (noisy datasets).
}
\ccGlue
\ccConstructor{APSS_reconstruction_function(const APSS_reconstruction_function<Gt>& other);}
{
Copy constructor
}
\ccGlue

%END-AUTO(\ccCreation)

\ccOperations

% Workaround bug in cgal_manual which, by default,
% removes "const" from "Reconstruction" in return values.
\ccTagFullDeclarations

% Enlarge left margin
\ccThree{1234567890}{12345678901234567890123}{}

% The section below is automatically generated. Do not edit!
%START-AUTO(\ccOperations)

\ccMethod{void set_smoothness_factor(FT smoothness);}
{
Sets smoothness factor. Typical choices are in the range 2 (clean datasets) and 8 (noisy datasets).
}
\ccGlue
\ccMethod{Sphere bounding_sphere() const;}
{
Returns a sphere bounding the inferred surface.
}
\ccGlue
\ccMethod{FT operator()(const Point& p) const;}
{
\ccc{ImplicitFunction} interface: evaluates the implicit function at a given 3D query point.
}
\ccGlue
\ccMethod{Point get_inner_point() const;}
{
Returns a point located inside the inferred surface.
}
\ccGlue

%END-AUTO(\ccOperations)

\ccSeeAlso

\ccRefIdfierPage{CGAL::Poisson_reconstruction_function<GeomTraits, ReconstructionTriangulation_3>}  \\
\ccRefIdfierPage{CGAL::keep_largest_connected_components<Polyhedron>}  \\

\ccExample

See \ccc{APSS_reconstruction.cpp} example.

\end{ccRefClass}

% +------------------------------------------------------------------------+
%%RefPage: end of main body, begin of footer
\ccRefPageEnd
% EOF
% +------------------------------------------------------------------------+

