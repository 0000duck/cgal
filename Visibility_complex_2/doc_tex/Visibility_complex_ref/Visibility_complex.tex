% +------------------------------------------------------------------------+
% | Reference manual page: Visibility_complex.tex
% +------------------------------------------------------------------------+
% | Package: Visibility_complex
% +------------------------------------------------------------------------+

\ccRefPageBegin

% +----------------------------------------------------------------------------+
\begin{ccRefClass}{Visibility_complex_2<VC2GeomTraits,VC2Items>}
% +----------------------------------------------------------------------------+

% +----------------------------------------------------------------------------+
\ccDefinition
  
The class \ccRefName{} defines a vertex centered data structure capable of
maintaining the incidence between vertices, edges and faces of the
visibility complex of a collection of convex objects and constraints. The
first template parameter is a geometric traits class, model of concept
\ccc{VC2GeomTraits}, and the second, defaulting to
\ccc{Visibility_complex_2_items} is a model of \ccc{VC2Items}. The nested
types \ccc{Vertex}, \ccc{Edge} and \ccc{Face} are derived from the classes
supplied in \ccc{VC2Items}.

\ccInclude{CGAL/Visibility_complex_2.h}

\ccTypes
\ccTwo{VisibilityComplex::Vertex_iterator}{}

\ccNestedType{Gt} {The geometric traits class.}
\ccGlue
\ccNestedType{Items}{Items class, model of the \ccc{VC2Items}
		      concept.}
\ccGlue
\ccNestedType{Vertex}{Vertex type. Model of \ccc{VC2Vertex}.}
\ccGlue
\ccNestedType{Edge}{Edge type. Model of \ccc{VC2Edge}.}
\ccGlue
\ccNestedType{Face}{Face type. Model of \ccc{VC2Face}.}
\ccGlue
\ccNestedType{Bitangent_2}{Bitangent type. Forwarded from \ccc{Gt}.}
\ccGlue
\ccNestedType{Disk}{Forwarded from Gt.}
\ccGlue
\ccNestedType{Disk_handle}{Const handle to disks.}
\ccGlue
\ccNestedType{Disk_iterator}{Random access iterator over all disks.}
\ccGlue
\ccNestedType{Constraint_iterator}{Random access iterator over all
constraints.}
\ccGlue
\ccNestedType{Edge_iterator}{Iterator over all edges.}
\ccGlue
\ccNestedType{Face_iterator}{Iterator over all faces, except the outer face.}
\ccGlue
\ccNestedType{Disk_const_iterator}{Const random access iterator over all
disks.}
\ccGlue
\ccNestedType{Constraint_const_iterator}{Const random access iterator over
all constraints.}
\ccGlue
\ccNestedType{Vertex_const_iterator}{Const iterator over all vertices.}
\ccGlue
\ccNestedType{Edge_const_iterator}{Const iterator over all edges.}
\ccGlue
\ccNestedType{Face_const_iterator}{Const iterator over all faces, except
                                   the outer face.}
\ccGlue
\ccNestedType{Constraint_input}{Combinatorial representation of a
constraint. See \ccc{Visibility_complex_2_details::Constraint_input}}.
\ccGlue
\ccNestedType{Vertex_handle}{Handle to vertices.}
\ccGlue
\ccNestedType{Face_handle}{Handle to faces.}
\ccGlue
\ccNestedType{Edge_handle}{Handle to edges.}
\ccGlue
\ccNestedType{Vertex_const_handle}{Const handle to vertices.}
\ccGlue
\ccNestedType{Face_const_handle}{Const handle to faces.}
\ccGlue
\ccNestedType{Edge_const_handle}{Const handle to edges.}

The handles are the same types as those defined in \ccc{Bitangent_2},
\ccc{Face}, \ccc{Vertex} and \ccc{Edge}.

\ccCreation
\ccCreationVariable{v}

\ccConstructor{Visibility_complex_2();}{Default constructor.}
\ccGlue
\ccConstructor{Visibility_complex_2(const Visibility_complex_2&);}
{Copy constructor. The representation is shared.}
\ccGlue
\ccConstructor{
template <class DiskIterator , class ConstraintIterator>
Visibility_complex_2(DiskIterator first, DiskIterator last,
		  ConstraintIterator  firstc,ConstraintIterator lastc);}
{Build the visibility complex from the sequence of disk and constraints
passed as arguments. The iterators are only required to be input
iterators. The disks are copied into the complex. The handles returned by
the \ccc{Disk_handle}-returning methods of the vertices and edges point to the
copied disks. The copied disks can be accessed through the random access
iterator \ccc{disks_begin()}, which yields the disks in the same order as
they were input. The input iterator for constraints should yield values of
type \ccc{Constraint_input}. The constructed constraints can be accessed
through the iterator \ccc{constraints_begin()} which is also a random
access iterator yielding the constraints in the same order as they were
input.}
\ccGlue
\ccConstructor{
template <class DiskIterator>
Visibility_complex_2(DiskIterator first, DiskIterator last);}
{Same as above, without constraints.}

\ccAccessFunctions
\ccTagFullDeclarations

\ccMethod{Disk_iterator disks_begin();}{}
\ccGlue
\ccMethod{Disk_iterator disks_end();}{iterator over all disks.}
\ccGlue
\ccMethod{Constraints_iterator constraints_begin();}{}
\ccGlue
\ccMethod{Constraints_iterator constraints_end();}{iterator over all
constraints.}
\ccGlue
\ccMethod{Vertex_iterator vertices_begin();}{}
\ccGlue
\ccMethod{Vertex_iterator vertices_end();}{iterator over all vertices,
including constraints.}
\ccGlue
\ccMethod{Edge_iterator edges_begin();}{}
\ccGlue
\ccMethod{Edge_iterator edges_end();}{iterator over all edges.}
\ccGlue
\ccMethod{Face_iterator faces_begin();}{}
\ccGlue
\ccMethod{Face_iterator faces_end();}{iterator over all faces, except the
                                      outer face.}

All the latter methods have \ccc{const} versions.

\ccMethod{Face_handle infinite_face(); const}{Returns the outer face (the lower
and the upper outer faces are unified).}
\ccGlue
\ccMethod{Edge_handle positive_edge(const Disk& d); const}{Returns 
a positive edge supported by d. d must be a reference to a disk copied into
\ccVar{}, not a disk from the original sequence.}
\ccGlue
\ccMethod{Edge_handle negative_edge(const Disk& d); const}{Returns
a negative edge supported by d. d must be a reference to a disk copied into
\ccVar{}, not a disk from the original sequence.}
\ccGlue
\ccMethod{int size(); const}{Returns the number of vertices (i.e. twice
                              the number of free bitangents).}

\ccTagDefaults


\ccImplementation

This class is referenced-counted, so that copies are cheap but shared. The
destructor frees all the vertices, edges and faces allocated by the
constructor.

\ccSeeAlso

\ccRefConceptPage{VC2Items}\\
\ccRefConceptPage{VC2GeomTraits}\\
\ccRefIdfierPage{CGAL::Visibility_complex_2_segment_traits<Kernel,DistanceNT,RToDistanceNT>}\\
\ccRefIdfierPage{CGAL::Visibility_complex_2_point_traits<Kernel,DistanceNT,RToDistanceNT>}\\
\ccRefIdfierPage{CGAL::Visibility_complex_2_polygon_traits<Kernel,Container,DistanceNT,RToDistanceNT>}\\
\ccRefIdfierPage{CGAL::Visibility_complex_2_circle_traits<Kernel>}\\
\ccRefIdfierPage{CGAL::Visibility_complex_2_items}


\end{ccRefClass}
