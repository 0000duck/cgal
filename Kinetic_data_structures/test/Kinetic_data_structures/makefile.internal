# Created by the script create_makefile
# This is the makefile for compiling a CGAL application.

#---------------------------------------------------------------------#
#                    include platform specific settings
#---------------------------------------------------------------------#
# Choose the right include file from the <cgalroot>/make directory.

TESTSUITE_LDFLAGS =  
TESTSUITE_CXXFLAGS = 
# -g -O3 -DNDEBUG

# CGAL_MAKEFILE = ENTER_YOUR_INCLUDE_MAKEFILE_HERE
# CGAL_MAKEFILE = /u/drussel/other_src/CGAL-3.2-I-316/make/makefile_i686_Linux-2.6_g++32-3.2.3
include $(CGAL_MAKEFILE)

#---------------------------------------------------------------------#
#                    compiler flags
#---------------------------------------------------------------------#

CXXFLAGS =\
           -I../../include \
           $(TESTSUITE_CXXFLAGS) \
           $(EXTRA_FLAGS) \
           $(CGAL_CXXFLAGS) \
           -Iinclude \
           $(LONG_NAME_PROBLEM_CXXFLAGS)

#---------------------------------------------------------------------#
#                    linker flags
#---------------------------------------------------------------------#

LIBPATH = \
          $(TESTSUITE_LIBPATH) \
          $(CGAL_LIBPATH)

LDFLAGS =  ../../src/CGAL/libCGAL.a \
          $(TESTSUITE_LDFLAGS) \
          $(LONG_NAME_PROBLEM_LDFLAGS) \
          $(CGAL_LDFLAGS)

#---------------------------------------------------------------------#
#                    target entries
#---------------------------------------------------------------------#

all: quick_test$(EXE_EXT) active_objects_tables$(EXE_EXT) exact_kds$(EXE_EXT) Delaunay_triangulation_2$(EXE_EXT)\
Delaunay_triangulation_3$(EXE_EXT)  Delaunay_triangulation_3_timing$(EXE_EXT) numbers$(EXE_EXT) \
                numeric_kds$(EXE_EXT) \
                simulator$(EXE_EXT) \
		timings$(EXE_EXT)\
		active_objects_tables$(EXE_EXT)\
                regular_triangulation_3$(EXE_EXT) \
		test$(EXE_EXT)

#       solvers$(EXE_EXT) \

quick_test$(EXE_EXT): quick_test$(OBJ_EXT)
	$(CGAL_CXX) $(LIBPATH) $(EXE_OPT)quick_test quick_test$(OBJ_EXT) $(LDFLAGS)


Delaunay_triangulation_2$(EXE_EXT): Delaunay_triangulation_2$(OBJ_EXT)
	$(CGAL_CXX) $(LIBPATH) $(EXE_OPT)Delaunay_triangulation_2 Delaunay_triangulation_2$(OBJ_EXT) $(LDFLAGS)

active_objects_tables$(EXE_EXT): active_objects_tables$(OBJ_EXT)
	$(CGAL_CXX) $(LIBPATH) $(EXE_OPT)active_objects_tables active_objects_tables$(OBJ_EXT) $(LDFLAGS)

Delaunay_triangulation_3$(EXE_EXT): Delaunay_triangulation_3$(OBJ_EXT)
	$(CGAL_CXX) $(LIBPATH) $(EXE_OPT)Delaunay_triangulation_3 Delaunay_triangulation_3$(OBJ_EXT) $(LDFLAGS)

Delaunay_triangulation_3_timing$(EXE_EXT):
	$(CGAL_CXX) $(LIBPATH) $(EXE_OPT)Delaunay_triangulation_3_timing Delaunay_triangulation_3_timing.cpp $(LDFLAGS) -O3 -DNDEBUG

exact_kds$(EXE_EXT): exact_kds$(OBJ_EXT)
	$(CGAL_CXX) $(LIBPATH) $(EXE_OPT)exact_kds exact_kds$(OBJ_EXT) $(LDFLAGS)

solvers$(EXE_EXT): solvers$(OBJ_EXT)
	$(CGAL_CXX) $(LIBPATH) $(EXE_OPT)solvers solvers$(OBJ_EXT) $(LDFLAGS) -DNDEBUG


numbers$(EXE_EXT): numbers$(OBJ_EXT)
	$(CGAL_CXX) $(LIBPATH) $(EXE_OPT)numbers numbers$(OBJ_EXT) $(LDFLAGS)

timings$(EXE_EXT): timings$(OBJ_EXT)
	$(CGAL_CXX) $(LIBPATH) $(EXE_OPT)timings timings$(OBJ_EXT) $(LDFLAGS)

numeric_kds$(EXE_EXT): numeric_kds$(OBJ_EXT)
	$(CGAL_CXX) $(LIBPATH) $(EXE_OPT)numeric_kds numeric_kds$(OBJ_EXT) $(LDFLAGS) -lgsl -lgslcblas

simulator$(EXE_EXT): simulator$(OBJ_EXT)
	$(CGAL_CXX) $(LIBPATH) $(EXE_OPT)simulator simulator$(OBJ_EXT) $(LDFLAGS)


regular_triangulation_3$(EXE_EXT): regular_triangulation_3$(OBJ_EXT)
	$(CGAL_CXX) $(LIBPATH) $(EXE_OPT)regular_triangulation_3 regular_triangulation_3$(OBJ_EXT) $(LDFLAGS)



clean: \
		active_objects_tables.clean\
                   Delaunay_triangulation_2.clean \
                   Delaunay_triangulation_3.clean \
                   Delaunay_triangulation_3_timing.clean \
                   exact_kds.clean \
                   regular_triangulation_3.clean \
                   numbers.clean \
                   numeric_kds.clean \
		   solvers.clean \
                   simulator.clean \
		   timings.clean

#---------------------------------------------------------------------#
#                    suffix rules
#---------------------------------------------------------------------#

.cpp$(OBJ_EXT):
	$(CGAL_CXX) $(CXXFLAGS) $(OBJ_OPT) $<

