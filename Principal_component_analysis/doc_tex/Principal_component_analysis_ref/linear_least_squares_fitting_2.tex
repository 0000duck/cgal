% +------------------------------------------------------------------------+
% | Reference manual page: linear_least_squares_fitting_2.tex
% +------------------------------------------------------------------------+
% | 
% | March 2005  Pierre Alliez and Sylvain Pion and Ankit Gupta
% | Package:   Principal Component Analysis
% | 
% |
% +------------------------------------------------------------------------+

\begin{ccRefFunction}{linear_least_squares_fitting_2}  
%% add template arg's if necessary

\ccDefinition
  
The function \ccRefName\ computes the best fitting 2D line of a 2D object set of points, segments, triangles, rectangles and circles. The best fit line minimizes the sum of squared distances from the points comprising these objects to their projections onto the line.

\ccInclude{CGAL/linear_least_squares_fitting_2.h}

\ccFunction{template < typename InputIterator, typename K, typename Tag > 
            typename K::FT 
             linear_least_squares_fitting_2(InputIterator first,
                                            InputIterator beyond,
                                            typename K::Line_2 & line,
                                            typename K::Point_2 & centroid,     
                                            const K & k,
					                                  const Tag& tag);}
{ computes the best fitting 2D line of a 2D object set in the range
[\ccc{first},\ccc{beyond}). The value returned is a fitting quality
between $0$ and $1$, where $0$ means that the variance is the same
along any line (a horizontal line going through the centroid is output
by default), and $1$ means that the variance is null orthogonally
to the best fitting line.
\ccPrecond{first != beyond.} }


The class \ccc{K} is the kernel in which the type \ccc{InputIterator::value_type} is defined. It can be omitted and deduced automatically from the value type.

The tag \ccc{tag} identifies the dimension of the objects in the object set. For point sets it should be 0. For segment sets it could be 1 or 0 according to whether one wants to fit the entire segment or just the end points. For triangles it can range from 0 to 2 according to whether one wants to fit the end points, the segments or the entire triangle. For triangles it can range from 0 to 2 according to whether one wants to fit the corners, the segments, or the entire rectangle. For circles it can be 1 or 2 according to whether one wants to fit the circle or the entire disc. For triangles it ranges from 0 to 2 according to whether one wants to fit the points, the segments or the entire triangles.


\ccHeading{Requirements}

\begin{enumerate}
   \item  \ccc{InputIterator::value_type} is equivalent to \ccc{K::Point_2} or 
          \ccc{K::Segment_2} or \ccc{K::Triangle_2} or \ccc{K::Rectangle_2} or
          \ccc{K::Circle_2}.
   \item  \ccc{line} is the best fitting line computed.
   \item  \ccc{centroid} is the centroid computed. This parameter can be
          omitted.
   \item  \ccc{t} is the tag identifying the type of manifold of the objects in the object set. It should be one of \ccc{Dimension_tag<0>}, \ccc{Dimension_tag<1>} or \ccc{Dimension_tag<2>}. Also, it shouldn't be of a greater dimension than the geometry of the object. For example, a \ccc{Segment} can't have a \ccc{Dimension_tag<2>} tag.
\end{enumerate}

\end{ccRefFunction}
