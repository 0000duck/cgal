% +------------------------------------------------------------------------+
% | CGAL Reference Manual: Reference manual for Qt_widget.tex
% +------------------------------------------------------------------------+
% |
% | 03.01.2001  Radu Ursu
% | 
% | \RCSdef{\qtwidgetRev}{$Revision$}
% | \RCSdefDate{\qtwidgetDate}{$Date$}
% +------------------------------------------------------------------------+

% +-----------------------------------------------------+
\begin{ccRefClass}{Qt_widget_layer}

\ccDefinition
The \ccc{Qt\_widget\_layer} serves as a base class for layers. Layers
are classes that draw on the drawing area of a \ccc{Qt_widget} and
receive events from it. You can attach and detach layers on the
\ccc{Qt\_widget}. All the attached layers will receive the events if
they are active. The same for drawing, all the active layers that are
attached will be drawn.

\ccInclude{CGAL/IO/Qt_widget_layer.h}
\ccGlue

\ccCreation
\ccCreationVariable{layer}
\ccSetTwoColumns{Qt_widget_layer}{}

\ccConstructor{Qt_widget_layer();}{The default constructor.}
\ccSetThreeColumns{const_iterator}{container.begin() const;}{}

\ccMethod{virtual void mousePressEvent(QMouseEvent *);}{}
\ccGlue
\ccMethod{virtual void mouseReleaseEvent(QMouseEvent *);}{}
\ccGlue
\ccMethod{virtual void wheelEvent(QMouseEvent *);}{}
\ccGlue
\ccMethod{virtual void mouseDoubleClickEvent(QMouseEvent *);}{}
\ccGlue
\ccMethod{virtual void mouseMoveEvent(QMouseEvent *);}{}
\ccGlue
\ccMethod{virtual void keyPressEvent(QKeyEvent *);}{}
\ccGlue
\ccMethod{virtual void keyReleaseEvent(QMouseEvent *);}{}
\ccGlue
\ccMethod{virtual void enterEvent(QEvent *);}{}
\ccGlue
\ccMethod{virtual void leaveEvent(QEvent *);}{}
\ccGlue
\ccMethod{virtual bool event(QEvent *);}{These
virtual functions can be overloaded in the derived class. They are
called by the \ccc{Qt\_widget} to which the layer is attached.}

\ccMethod{bool is_active();}{Returns \ccc{true} if this layer is active.}

\ccHeading{Public Slots}

\ccMethod{virtual void draw();}{This virtual member function
 must be overloaded. This is where the drawing code goes.}
\ccMethod{void stateChanged(int);}{This slot was provided to change
the layer's state from activated to deactivated and reverse if it is
triggered. You can see this slot connected with \qt\ toggle buttons in
the demos. If the parameter has the value 2 the layer is activated. If 
the parameter has the value 0, the layer is deactivated.}
\ccMethod{bool activate();}{Activate and return \ccc{true} if it was not active.}
\ccMethod{bool deactivate();}{Deactivate and return \ccc{true} if it was active.}

\ccHeading{Protected}
\ccVariable{Qt_widget *widget;}{This pointer is NULL at the
construction time. When you attach a layer to the \ccc{Qt\_widget}
this pointer become equal to the pointer of \ccc{Qt\_widget}.}
\ccMethod{virtual void activating();}{You should overload this
function if you want to have initializing code for your layer. This
function is called every time the layer is activated.}
\ccMethod{virtual void deactivating();}{You should overload this
function if you want to write clean up code for your
layer. This function is called every time the layer is deactivated.}

\ccHeading{Signals}
\ccMethod{void activated(Qt_widget_layer *l);}{This signal is emitted
every time this layer is activated.}
\ccMethod{void deactivated(Qt_widget_layer *l);}{This signal is emitted
every time this layer is deactivated.}



\ccExample
The following example of a layer draws the points of a triangulation in green.

\begin{ccExampleCode}
#include <CGAL/IO/Qt_widget_layer.h>

namespace CGAL {

template <class T>
class Qt_layer_show_points : public Qt_widget_layer {
public:
  typedef typename T::Point           Point;
  typedef typename T::Segment         Segment;
  typedef typename T::Vertex          Vertex;
  typedef typename T::Vertex_iterator	Vertex_iterator;

  Qt_layer_show_points(T &t) : tr(t){};

  void draw()
  {  
    Vertex_iterator it = tr.vertices_begin(), 
		beyond = tr.vertices_end();
    *widget << CGAL::GREEN << CGAL::PointSize (3) 
		<< CGAL::PointStyle (CGAL::DISC);    
    while(it != beyond) {      
      *widget << (*it).point();
      ++it;
    }
  };
private:
  T	&tr;
  
};//end class 

} // namespace CGAL
\end{ccExampleCode}

\end{ccRefClass}
% +-----------------------------------------------------+
% EOF








