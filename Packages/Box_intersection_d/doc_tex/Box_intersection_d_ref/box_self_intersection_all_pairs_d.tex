% +------------------------------------------------------------------------+
% | Reference manual page: box_self_intersection_all_pairs_d.tex
% +------------------------------------------------------------------------+
% | 19.05.2004   Lutz Kettner, Andreas Meyer
% | Package: Package
% | 
\RCSdef{\RCSboxselfintersectionAPdRev}{$Revision$}
\RCSdefDate{\RCSboxselfintersectionAPdDate}{$Date$}
% |
%%RefPage: end of header, begin of main body
% +------------------------------------------------------------------------+


\begin{ccRefFunction}{box_self_intersection_all_pairs_d}
\ccIndexSubitem{intersection}{iso-oriented boxes}
\ccIndexSubitemDef{intersection}{all pairs}

\ccDefinition
  
The function \ccRefName\ computes the pairwise intersecting boxes
in a sequence of iso-oriented boxes in arbitrary dimension.
It does so by comparing all possible pairs of boxes and is thus
inferior to the fast \ccc{CGAL::box_self_intersection_d} algorithm on 
page~\pageref{ccRef_CGAL::box_self_intersection_d}.

The sequence of boxes is given with a forward iterator range. The
sequences are not modified. For each intersecting pair of boxes a
\ccc{callback} function object is called with the two intersecting
boxes as argument.

The algorithm is interface compatible with the
\ccc{CGAL::box_self_intersection_d} function. Similarly, we call the
\ccc{value_type} of the iterators the \emph{box handle}, which is
either our box type or a pointer type to our box type.

A $d$-dimensional iso-oriented box is defined as the
\ccHtmlNoLinksFrom{Cartesian} product of $d$ intervals. We call the
box \emph{half-open} if the $d$ intervals $\{ [lo_i,hi_i) \,|\, 0 \leq
i < d\}$ are half-open intervals, and we call the box \emph{closed} if
the $d$ intervals $\{ [lo_i,hi_i] \,|\, 0 \leq i < d\}$ are closed
intervals. Note that closed boxes support zero-width boxes and they
can intersect at their boundaries, while non-empty half-open boxes
always have a positive volume and they only intersect iff their
interiors overlap.  The distinction between closed or half-open boxes
does not require a different representation of boxes, just a different
interpretation when comparing boxes, which is selected with the
\ccc{topology} parameter and its two values,
\ccc{CGAL::Box_intersection_d::HALF_OPEN} and
\ccc{CGAL::Box_intersection_d::CLOSED}.

The algorithm uses a traits class of the \ccc{BoxIntersectionTraits_d}
concept to access the boxes. A default traits class is provided that
assumes that the box type is a model of the \ccc{BoxIntersectionBox_d}
concept and that the box handle, i.e., the iterators value type, is
identical to the box type or a pointer to the box type.

\ccInclude{CGAL/box_intersection_d.h}

\ccThree{void}{box_inter}{}
\def\ccLongParamLayout{\ccTrue}
\ccFunction{template< class ForwardIterator, class Callback >
void box_self_intersection_all_pairs_d(
    ForwardIterator begin, ForwardIterator end,
    Callback callback,
    Box_intersection_d::Topology topology = Box_intersection_d::CLOSED);
}{%
    Invocation of box intersection with default box traits
    \ccc{CGAL::Box_intersection_d::Box_traits_d<Box_handle>}, where
    \ccc{Box_handle} corresponds to the iterator value type  of
    \ccc{ForwardIterator}.}
 
\ccFunction{template< class ForwardIterator,
            class Callback, class BoxTraits >
void box_self_intersection_all_pairs_d(
    ForwardIterator begin, ForwardIterator end,
    Callback callback,
    BoxTraits box_traits,
    Box_intersection_d::Topology topology = Box_intersection_d::CLOSED);
}{Invocation with custom box traits.}
\def\ccLongParamLayout{\ccFalse}

\ccRequirements

\begin{itemize}
  \item
    \ccc{ForwardIterator} must be a forward iterator. We call its
    value type \ccc{Box_handle} in the following. 
  \item
    \ccc{Callback} must be of the \ccc{BinaryFunction} concept. 
    The \ccc{Box_handle} must be convertible to both argument types. The
    return type is not used and can be \ccc{void}.
  \item
    The \ccc{Box_handle} must be a model of the \ccc{Assignable} concept.
  \item
    In addition, if the default box traits is used the \ccc{Box_handle} must 
    be a class type \ccc{T} or a pointer to a class type \ccc{T}, where
    \ccc{T} must be a model of the \ccc{BoxIntersectionBox_d} concept.
    In both cases, the default box traits specializes to a suitable
    implementation.
  \item
    \ccc{BoxTraits} must be of the \ccc{BoxIntersectionTraits_d} concept.
\end{itemize}

\ccSeeAlso

\ccRefIdfierPage{CGAL::box_intersection_d}\\
\ccRefIdfierPage{CGAL::box_self_intersection_d}\\
\ccRefIdfierPage{CGAL::box_intersection_all_pairs_d}

\ccRefIdfierPage{CGAL::Box_intersection_d::Box_traits_d<BoxHandle>}\\
\ccRefConceptPage{BoxIntersectionBox_d}\\
\ccRefConceptPage{BoxIntersectionTraits_d}

\ccImplementation

The algorithm is trivially testing all pairs and runs therefore in time
$O(n^2)$ where $n$ is the size of the input sequence. This algorithm
does not use the {id}-number of the boxes.

\end{ccRefFunction}

% +------------------------------------------------------------------------+
%%RefPage: end of main body, begin of footer
% EOF
% +------------------------------------------------------------------------+

