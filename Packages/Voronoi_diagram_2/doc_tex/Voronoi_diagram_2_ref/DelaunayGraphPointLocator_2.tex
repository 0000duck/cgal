%% Copyright (c) 2005  Foundation for Research and Technology-Hellas (Greece).
%% All rights reserved.
%%
%% This file is part of CGAL (www.cgal.org); you may redistribute it under
%% the terms of the Q Public License version 1.0.
%% See the file LICENSE.QPL distributed with CGAL.
%%
%% Licensees holding a valid commercial license may use this file in
%% accordance with the commercial license agreement provided with the software.
%%
%% This file is provided AS IS with NO WARRANTY OF ANY KIND, INCLUDING THE
%% WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
%%
%% $Source$
%% $Revision$ $Date$
%% $Name$
%%
%% Author(s)     : Menelaos Karavelas <mkaravel@tem.uoc.gr>

\begin{ccRefFunctionObjectConcept}{DelaunayGraphNearestSite_2}

The \ccc{DelaunayGraphNearestSite_2} concept defines the requirements
for a functor that performs nearest site queries on a Delaunay
graph. The functor returns an object of type \ccc{Query_result}, which
is a model of the \ccc{DelaunayGraphNearestSiteQueryResult_2}
concept. Semantically, the result of the query is either a face, edge or
vertex of the Delaunay graph. It is a face if the query point has at
least three closest sites; the returned face has closest sites as
vertices. It is an edge if the query
point is equidistant to exactly two vertices of the Delaunay graph,
which are the source and target vertices of the edge. In all other
cases, the search result is a vertex, namely, the unique vertex of the
Delaunay graph closest to the query point. The
\ccc{DelaunayGraphNearestSiteQueryResult_2} concept, as well as the
\ccc{Query_result} type, that is a model of the afore-mentioned concept,
encapsulate the semantics described above.

\ccRefines
\ccc{DefaultConstructible}\\
\ccc{CopyConstructible}\\
\ccc{Assignable}\\
\ccc{AdaptableFunctor} (with two arguments)

\ccTypes

In addition to the types required by the \ccc{AdaptableFunctor}
concept, a model of this concept must provide the following types:


%\ccTwo{EdgeDegeneractTester::Dual_graph+}{}
\ccTwo{DelaunayGraphNearestSite_2::Delaunay_graph+}{}
\ccNestedType{Delaunay_graph}{A type for the Delaunay graph. It must be
  model of the \ccc{DelaunayGraph_2} concept.}
\ccGlue
\ccNestedType{Query_result}{A type for the result of the point
  location. It must be a model of the
  \ccc{DelaunayGraphNearestSiteQueryResult_2} concept.}
%\ccGlue
\ccThree{typedef typename Delaunay_graph::Geom_traits::Point_2}
{Vertex_handle+}{}
\ccThreeToTwo
\ccTypedef{typedef typename Delaunay_graph::Vertex_handle Vertex_handle;}{}
\ccGlue
\ccTypedef{typedef typename Delaunay_graph::Face_handle Face_handle;}{}
\ccGlue
\ccTypedef{typedef typename Delaunay_graph::Edge Edge;}{}
\ccGlue
\ccTypedef{typedef typename Delaunay_graph::Geom_traits::Point_2 Point_2;}{}

\ccCreationVariable{ns}

%\ccCreation

%In addition to the default and copy constructors and the assignment
%operator, the following constructor must be defined:

%\ccThree{EdgeDegeneracyTester et(Dual_graph* dg)+}{}
%\ccThreeToTwo
%\ccConstructor{EdgeDegeneracyTester(Dual_graph* dg);}{A constructor
%  that is initialized by a pointer to a \ccc{Dual_graph} object.}

\ccOperations
It must also provide the following operations:

\ccThree{Query_result}{ns(Delaunay_graph dg, Point_2 p)+}{}
\ccThreeToTwo
\ccMemberFunction{Query_result operator()(Delaunay_graph dg, Point_2 p);}
{Returns the feature of the Delaunay graph that is dual to the feature
  of the Voronoi diagram on which the point \ccc{p} lies.}

\ccHasModels
\ccc{CGAL::Apollonius_graph_Voronoi_traits_2<AG2>::Nearest_site_2}\\
\ccc{CGAL::Delaunay_triangulation_Voronoi_traits_2<DT2>::Nearest_site_2}\\
\ccc{CGAL::Regular_triangulation_Voronoi_traits_2<RT2>::Nearest_site_2}\\
\ccc{CGAL::Segment_Voronoi_diagram_Voronoi_traits_2<SVD2>::Nearest_site_2}

\ccSeeAlso
\ccc{VoronoiTraits_2}\\
\ccc{DelaunayGraphNearestSiteQueryResult_2}\\
\ccc{CGAL::Apollonius_graph_Voronoi_traits_2<AG2>}\\
\ccc{CGAL::Delaunay_triangulation_Voronoi_traits_2<DT2>}\\
\ccc{CGAL::Regular_triangulation_Voronoi_traits_2<RT2>}\\
\ccc{CGAL::Segment_Voronoi_diagram_Voronoi_traits_2<SVD2>}

\end{ccRefFunctionObjectConcept}
