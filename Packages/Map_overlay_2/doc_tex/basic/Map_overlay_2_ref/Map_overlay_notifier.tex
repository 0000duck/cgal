% +------------------------------------------------------------------------+
% | Reference manual page: Map_overlay_notifier.tex (Map_overlay)
% +------------------------------------------------------------------------+
% | 
% | Package: ovl (Map_overlay_2)
% | 
% +------------------------------------------------------------------------+

\ccRefPageBegin

%%RefPage: end of header, begin of main body
% +------------------------------------------------------------------------+

\begin{ccRefConcept}{MapOverlayNotifier_2}
\ccRefLabel{Ovl_Notifier}
%\ccDefinition{A vertex $v$ 
%stores %a point and 
%   a reference to an incident 
%   halfedge that has $v$ as its %source.}
%   target.}

\ccCreationVariable{notifier}

\ccDefinition
The \ccRefName\ concpet is a refinement of the 
\ccc{PlanarMapChangeNotification_2} concept. 
Hence, the requirements of the latter are the requirements of the former.
In addition, a class which is a model for the \ccRefName\ concept 
must provide the following types and operations. 
(\ccc{Self} is an abbreviation of the \ccRefName\ type hereafter.)

\ccTypes
\ccNestedType{Subdivision}{
   The subdivision type.}

\ccNestedType{X_monotone_curve_2}{
   curve type.}

\ccNestedType{Point_2}{
   point type.}

The following three types have constant counterparts.

\ccNestedType{Vertex_handle}{
   handle to a vertex of the subdivision.}

\ccNestedType{Halfedge_handle}{
   handle to a halfedge of the subdivision.}

\ccNestedType{Face_handle}{
   handle to a face of the subdivision.}


\ccCreation
\ccConstructor{Notifier();}
{A default constructor.}

\ccConstructor{Notifier (const Subdivision& first_creator, 
   const subdivision& second_creator);}
{A constructor initializing the two creators of the overlay.}

\ccConstructor{Notifier (const Self& notifier);}
{A copy constructor.}

\ccOperations
\ccMethod{void  update_all_faces(Subdivision& s);}
{traverses all the faces of $s$ in a DFS manner, 
and updates all pointers in the overlay components to refer 
the suitable faces of the creators.}

\ccMethod{void set_curve_attributes(const X_monotone_curve_2& cv, 
   Halfedge_const_handle  h, bool first_creator);}
{maintains the halfedge $h$ of a creator in the notifier 
   for future usage. The flag $first_creator$ indicates 
   whether $h$ belongs to the first creator or to the second one.}


The following methods have constant counterparts.

\ccMethod{Vertex_handle get_first_vertex_above(Vertex_handle v);}
{returns the hadle of the vertex of the first creator laying above $v$.
   If there is no vertex of the first creator laying above $v$,
   the returned value equals to $v$.}
  
\ccMethod{Vertex_handle get_second_vertex_above(Vertex_handle v);}
{returns the hadle of the vertex of the second creator laying above $v$.
   If there is no vertex of the first creator laying above $v$,
   the returned value equals to $v$.}

\ccMethod{Halfedge_handle get_first_halfedge_above(Vertex_handle v);}
{returns the handle of the halfedge in the first creator laying above $v$.}

\ccMethod{Halfedge_handle get_second_halfedge_above(Vertex_handle v);}
{returns the handle of the halfedge in the second creator laying above $v$.}

\ccMethod{Face_handle get_first_face_above(Vertex_handle v);}
{returns the handle of the face in the first creator laying above $v$.}

\ccMethod{Face_handle get_second_face_above(Vertex_handle v);}
{returns the handle of the face in the second creator laying above $v$.}

\ccMethod{Halfedge_handle get_first_halfedge_above(Halfedge_handle h);}
{returns the handle of the halfedge in the first creator laying above $h$.
   If there is no halfedge of the first creator laying above $h$,
   the returned value equals to $h$.}

\ccMethod{Halfedge_handle get_second_halfedge_above(Halfedge_handle h);}
{returns the handle of the halfedge in the second creator laying above $h$.
   If there is no halfedge of the second creator laying above $h$,
   the returned value equals to $h$.}

\ccMethod{Face_handle get_first_face_above(Halfedge_handle h);}
{returns the handle of the face in the first creator laying above $h$.}

\ccMethod{Face_handle get_second_face_above(Halfedge_handle h);}
{returns the handle of the face in the second creator laying above $h$.}

\ccMethod{Face_handle get_first_face_above(Face_handle f);}
{returns the handle of the face in the first creator laying above $f$.}

\ccMethod{Face_handle get_second_face_above(Face_handle f);}
{returns the handle of the face in the second creator laying above $f$.}

\end{ccRefConcept} % MapOverlayNotifier_2

% +------------------------------------------------------------------------+
%%RefPage: end of main body, begin of footer
\ccRefPageEnd
% EOF
% +------------------------------------------------------------------------+
