% +------------------------------------------------------------------------+
% | CGAL Reference Manual:  main.tex
% +------------------------------------------------------------------------+
% | snap rounding of line segments
% |
% | 9.4.00   Eli Packer
% | 
\RCSdef{\snapRoundingRev}{$Revision$}
\RCSdefDate{\snapRoundingDate}{$Date$}
% +------------------------------------------------------------------------+

\chapter{Line Segments Snap Rounding - Reference Manual}
\label{chapterSnapRoundibgRef}
\ccChapterRelease\snapRoundingRev. \ \snapRoundingDate\\
\ccChapterAuthor{Eli Packer}


\section*{Summary}

Snap rounding is a well known method for converting
arbitrary-precision arrangements of segments into a fixed-precision
representation. It is classified as a finite precision approximation 
technique. This package makes Snap Rounding of line segments in $\reals_2$.
It is based on the paper 'Snap Rounding Revisited' which provides a modification
to Snap Rounding named Iterated Snap Rounding. This package provides both
Iterated Snap Rounding and the usual Snap Rounding which is a private case.
For details we refer you to the article.\\ \\

Given a finite collection $\S$ of segments in the plane, the
arrangement of $\S$ denoted $\A(\S)$ is the subdivision of the plane
into vertices, edges, and faces induced by $\S$. %\cite{arrg-surveys}.
A {\it vertex\/} of the arrangement is either a segment endpoint or
the intersection of two segments. Given an arrangement of segments
whose vertices are represented with arbitrary-precision coordinates,
snap rounding (SR, for short) proceeds as follows.  We tile the plane
with a grid of unit squares, {\it pixels}, each centered at a point
with integer coordinates. A pixel is {\it hot\/} if it contains a
vertex of the arrangement. Each vertex of the arrangement is replaced
by the center of the hot pixel containing it and each edge $e$ is
replaced by the polygonal chain through the centers of the hot pixels
met by $e$, in the same order as they are met by $e$.

Since in a snap-rounded arrangement, the distance between a vertex and
a non-incident edge can be extremely small compared with the width of a
pixel in the grid used for rounding, this package provides, beside the
usual Snap Rounding, a modification of it, named Iterated Snap Rounding,
which makes the a vertex and a non-incident edge well separated.

%\begin{ccRefClass}{Isr<NT>}

\subsection*{Definition}
\ccInclude{CGAL/Snap_rounding_2.h}

\ccTypedef{typedef typename std::list<Segment_2> Segments_container;}{The segments container.}
\ccTypedef{typedef typename std::list<std::list<CGAL::Point_2<Rep> > > Polylines_container;}{The polylines output container}
\ccTypedef{typedef Segments_container::const_iterator Segment_const_iterator;}{a constant iterator of segments.}
\ccTypedef{typedef Segments_container::const_iterator Segment_iterator;}{an iterator of segments.}
\ccTypedef{typedef Polylines_container::const_iterator Polyline_const_iterator;}{a constant iterator of polylines output.}
\ccTypedef{typedef Segments_container::const_iterator Segment_iterator;}{an iterator of segments.}
\ccTypedef{typedef typename std::list<CGAL::Point_2<Rep> > Points_container;}{A polyline points container.}

\ccParameters
The template declaration of the \ccc{Snap_rounding_2} function has one parameter:

\ccCreation
    \ccCreationVariable{Snap_rounding_2}

\ccConstructor{snap_rounding(typename std::list<Segment_2>::const_iterator first,typename std::list<Segment_2>::const_iterator beyond,NT precision,bool inp_do_isr = true,int 
inp_number_of_kd_trees = 5);}{
The first two parameters denote the first and after-the-last iterators of a list of Segment\_2 which are the input of {\em Isr}.
The third parameter denotes the precision of the Isr. The forth parameter determines whether to do an Iterated Snap Rounding
or a Snap Rounding. The forth parameter denotes the number of KD trees to use (see [Snap Rounding Revisited] for more details on
this issue).
}

\ccOperations
    \ccCreationVariable{Snap_rounding_2<Rep>::Segment_const_iterator segments_begin() const}

\ccConstructor{Snap_rounding_2<Rep>::Segment_const_iterator segments_begin() const}{
Returns a constant iterator to the first input segment.
}

\ccOperations
    \ccCreationVariable{Snap_rounding_2<Rep>::Segment_const_iterator segments_end() const}
 
\ccConstructor{Snap_rounding_2<Rep>::Segment_const_iterator segments_end() const}{
Returns a constant iterator to the after-the-last of the input segments.
}

\ccOperations
    \ccCreationVariable{Snap_rounding_2<Rep>::Segment_iterator segments_begin()}

\ccConstructor{Snap_rounding_2<Rep>::Segment_iterator segments_begin() }{
Returns an iterator to the first input segment.
}

\ccOperations
    \ccCreationVariable{Snap_rounding_2<Rep>::Segment_iterator segments_end()}
 
\ccConstructor{Snap_rounding_2<Rep>::Segment_iterator segments_end()}{
Returns an iterator to the after-the-last of the input segments.
}


\ccOperations
    \ccCreationVariable{Snap_rounding_2<Rep>::Polyline_const_iterator polylines_begin()}

\ccConstructor{Snap_rounding_2<Rep>::Polyline_const_iterator polylines_begin() }{
Returns a constant iterator to the output of the first input segment.
}

\ccOperations
    \ccCreationVariable{Snap_rounding_2<Rep>::Polyline_const_iterator polylines_end()}
 
\ccConstructor{Snap_rounding_2<Rep>::Polyline_const_iterator polylines_end()}{
Returns a constant iterator to the after-the-last of the output of the input segments.
}

\ccOperations
    \ccCreationVariable{Snap_rounding_2<Rep>::double average_number_of_vertices() const}
 
\ccConstructor{Snap_rounding_2<Rep>::double average_number_of_vertices() const}{
Returns the average number of vertices in the output polylines.
}

\ccOperations
    \ccCreationVariable{Snap_rounding_2<Rep>::int max_number_of_vertices() const}
 
\ccConstructor{Snap_rounding_2<Rep>::int max_number_of_vertices() const}{
Returns the maximum number of vertices in the output polylines.
}

\ccOperations
    \ccCreationVariable{Snap_rounding_2<Rep>::int number_of_input_segments() const}
 
\ccConstructor{Snap_rounding_2<Rep>::int number_of_input_segments() const}{
Returns the number of input segments.
}

\ccOperations
    \ccCreationVariable{Snap_rounding_2<Rep>::NT max_distance() const}
 
\ccConstructor{Snap_rounding_2<Rep>::NT max_distance() const}{
Returns the maximum perturbation done on any input segment.
}

\ccOperations
    \ccCreationVariable{Snap_rounding_2<Rep>::NT average_distance() const}
 
\ccConstructor{Snap_rounding_2<Rep>::NT average_distance() const}{
Returns the average of the maximum perturbation done on each input segment.
}

\ccOperations
    \ccCreationVariable{Snap_rounding_2<Rep>::double time() const}
 
\ccConstructor{Snap_rounding_2<Rep>::double time() const}{
Returns the time that the Snap Rounding took.
}

%\end{ccRefClass}

% +--------------------------------------------------------+

% EOF
