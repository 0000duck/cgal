% +------------------------------------------------------------------------+
% | Reference manual page: LargestEmptyIsoRectangleTraits_2.tex
% +------------------------------------------------------------------------+
% | 06.04.2000   Author
% | Package: Package
% | 
\RCSdef{\RCSSnapRoundingTraits_2Rev}{$Revision$}
\RCSdefDate{\RCSSnapRoundingTraits_2Date}{$Date$}
% |
%%RefPage: end of header, begin of main body
% +------------------------------------------------------------------------+


\begin{ccRefConcept}{SnapRoundingTraits_2}

%% \ccHtmlCrossLink{}     %% add further rules for cross referencing links
%% \ccHtmlIndexC[concept]{} %% add further index entries

\ccDefinition
  
The concept \ccRefName\ describes the set of requirements to be
fulfilled by any class used to instantiate the template parameter of
the function \ccc{Snap_rounding_2<T>}.
This concept provides the types of the geometric primitives used in
this class and some function object types for the required
predicates on those primitives.

The Snap Rounding traits we provide is templated by another traits.
This traits must provide an arbitrary-precision number type (\ccc{FT}), \ccc{Point_2},
\ccc{Segment_2} and \ccc{Iso_rectangle_2}. Another requirement is that FT must have
the method \ccc{to_double()} which converts the value of a variable of type FT to
the built-in number type \ccc{double}. The assumption is that although the Snap Rounding
algorithm requires exact computation, the \ccc{double} number type should be sufficient
for representing the output such that no overflows occur.

Since the \ccc{Snap_rounding_2<T>} function uses \ccc{Sweep_line_2} and \ccc{Kdtree_2}
their requirements hold here too.

\ccTypes
\ccNestedType{Point_2}{The point type.}
\ccGlue
\ccNestedType{Segment_2}{The segment type.}
\ccGlue
\ccNestedType{Iso_rectangle_2}{The iso rectangle  type.}

\ccNestedType{Compare_x_2}{Predicate object. Must provide
the operator
\ccc{Comparison_result operator()(Point_2 p, Point_2 q)}
which returns 
\ccc{SMALLER, EQUAL} or \ccc{ LARGER}
 according ding to the
$x$-ordering of points \ccc{p} and \ccc{q}.}
\ccGlue
\ccNestedType{Compare_y_2}{Predicate object. Must provide
the operator
\ccc{Comparison_result operator()(Point_2 p, Point_2 q)}
which returns
\ccc{SMALLER, EQUAL} or \ccc{ LARGER}
according to the
$y$-ordering of points \ccc{p} and \ccc{q}.}
\ccGlue

\ccNestedType{Snap_2}{Rounds a point to a center of a pixel (unit square)
in the grid used by the Snap Rounding algorithm. Note that no conversion
to an integer grid is done yet. Must have the syntax
\ccc{void operator()(Point_2 p,NT pixel_size,NT &x,NT &y)} where $p$ is the
input point, \ccc{pixel_size} is the size of the pixel of the grid,
and $x$ and $y$ are the $x$ and $y$-coordinates of the rounded point
respectively.}

\ccNestedType{Integer_grid_point_2}{Convert coordinates
from an arbitrary-precision representation into an integer one 
in which pixels' center are counted by integers. For instance,
if a point has the coordinates $(3.7,5.3)$ and the pixel
size is $1$, then the new point will have the coordinates of $(7,10)$.
Note, however, that the number type remains the same here, although
integers are represented.
Must have the syntax \ccc{Point_2 operator()(Point_2 p,NT pixel_size)}
where $p$ is the converted point and \ccc{pixel_size} is the size of the pixel of the grid.
}

\ccNestedType{Minkowski_sum_with_pixel_2}{Returns the points of a polygon which is
a minkowski sum of a segment and a square centered at the origin with edge size
\ccc{0.6 * pixel edge}.
Must have the syntax \ccc{void operator()(std::list<Point_2>& points_list,
Segment_2 s,NT unit_squere)}
where {\ccc points\_list} is the list of the points of the minkowski sum polygon,
$s$ is the input segment and {\ccc unit\_square} is the edge size of the pixel}

\ccCreation
\ccCreationVariable{traits}  %% choose variable name
Only a default constructor, copy constructor
 and an assignement operator are required. 
Note that further constructors
can be provided. 

\ccConstructor{SnapRoundingTraits_2();}{Default constructor.}
\ccGlue
\ccConstructor{SnapRoundingTraits_2(SnapRoundingTraits_2);}
{Copy constructor}
\ccMethod{SnapRoundingTraits_2 operator=(SnapRoundingTraits_2 gtr);}
{Assignment operator.}

\ccHeading{Predicate functions}

The following functions give access to the  predicate 
and constructor objects.

\ccThree{Construct_segment_2}{gt.compare_x(Point p0, Point p1)x}{}
\ccMethod{Construct_iso_rectangle_2 construct_iso_rectangle_2_object();}{}

\ccMethod{Comparison_x_2 compare_x_2_object();}{}                               
\ccGlue
\ccMethod{Comparison_y_2 compare_y_2_object();}{}
\ccGlue
\ccMethod{Snap_2 snap_2_object();}{}
\ccGlue
\ccMethod{Integer_grid_point_2 integer_grid_point_2_object();}{}
\ccGlue
\ccMethod{Minkowski_sum_with_pixel_2 minkowski_sum_with_pixel_2_object();}{}
\ccGlue


\ccHasModels
\ccc{CGAL::Cartesian<R>} \\
\ccc{CGAL::Homogeneous<R>}

\ccSeeAlso
\ccc{CGAL::Snap_rounding_2<Traits>}

\bibliography{Snap_rounding_2}
\bibliographystyle{abbrv}

\end{ccRefConcept}

% +------------------------------------------------------------------------+
%%RefPage: end of main body, begin of footer
% EOF
% +------------------------------------------------------------------------+

