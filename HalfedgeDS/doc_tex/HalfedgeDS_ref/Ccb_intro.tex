% +------------------------------------------------------------------------+
% | Reference manual page: HalfedgeDS.tex
% +------------------------------------------------------------------------+
% | 22.03.1999   Lutz Kettner
% | Package: HalfedgeDS
% | 
\RCSdef{\RCSHalfedgeDSRev}{$Id: HalfedgeDS.tex 38221 2007-04-17 16:31:42Z spion $}
\RCSdefDate{\RCSHalfedgeDSDate}{$Date: 2007-04-17 13:31:42 -0300 (Tue, 17 Apr 2007) $}
% +------------------------------------------------------------------------+

{\XHDS
In some geometric structures, such as a \ccc{Polyhedron_3} or a \ccc{Straight_skeleton_2},
faces are bounded by a single connected component. That is, just one cycle of halfedges bounds
any face. But in other structures, like an arrangement of curves in a surface, faces
might have holes or even multiple outer connected components of the boundary. 
In the latter cases, a face can be bounded by more than just one cycle of halfedges. 

Therefore, this design supports faces
whose boundaries are composed of multiple outer and inner halfedge cycles. Furthermore, faces can contain isolated vertices in their interior.

\input{HalfedgeDS_ref/Ccb_or_dmr.tex}

\ccHeading{Direct Mutual Reference:}

If multiple boundary components are not needed a type tag is used to allow a face to directly store 
a reference to a halfedge (implicitly representing the cycle) and vice versa. In this case, \ccc{Face::halfedge()}, \ccc{Face::set_halfedge()}, \ccc{Halfedge::face()} 
and \ccc{Halfedge::set_face()} are defined.

\ccHeading{Halfedge Cycle Items:}

Using this method a cycle of halfedges is collectively represented 
by a fourth first-class \ccc{HDS} item named \ccc{Halfedge_cycle}.

When using halfedge cycles, incident faces and halfedges are not directly cross referenced.
Instead, a face stores sequences of references to outer and inner halfedge cycles, while each 
halfedge cycle in turn stores a reference to a halfedge\footnote{In other
hole-supporting HDS designs, faces stores a sequence of halfedges (each for a different cycle).
In our design a cycle is given by a \ccc{halfedge_cycle} instead of a \ccc{halfedge} to allow 
the centralization of cycle-related information}. 
A face also stores another sequence of references to halfedge\_cycles for isolated vertices, where
each such vertex is represented by a cycle composed of a single-halfedge single-vertex self-loop.
A halfedge in the cycle stores the handle to the halfedge cycle it belongs to.

\ccc{Face::halfedge()} is not defined if halfedge cycles  are used because a face
can have many cycles, not just one; or oven no outer boudary but only inner cycles (holes).

\ccc{Halfedge::face()} on the other hand is well defined as a shortcut for \ccc{Halfedge::halfedge_cycle()->face()}
since every halfedge belongs to a halfedge\_cycle.

The type \ccc{Halfedge_cycle} is a first-class \ccc{HDS} item, just like vertices, halfedges and faces.
However, the halfedge cycles do not contribute  by themself to the incidence information 
maintained by the \ccc{HDS}. That is, the incidence is betwen vertices, edges and faces,
which are all well defined mathematical concepts belonging to the field of algebraic topology.
This design does not introduce a new topological concept but a new
auxiliary object in a similar way halfedges are auxiliary objects that 
relate to the topological concept of {\em edge} only when considered in pairs.

A halfedge cycle allows upper level structures to centralize boundary-related information
(combinatorial or geometric) in a single object. This is the reason why 
connected components of the boundary are represented by this first-class \ccc{HDS} item 
and not just by a halfedge implicitly representing the cycle (as in other designs).

For instance, a model of the  concept \ccc{HalfedgeDSHalfedgeCycle} may store the iterator that identifies the position of
cycle in the face for fast hole migration across different faces, or cache curve-level geometric
information such as orientation even if not supported by the curve type itself.
}

