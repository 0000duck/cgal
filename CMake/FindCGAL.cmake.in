# Try to find the CGAL libraries
# CGAL_FOUND             - system has CGAL lib
# CGAL_INCLUDE_DIR       - the CGAL include directory 
# CGAL_CMAKE_MODULE_PATH - the directory containing CGAL related CMake stuff

# CGAL_ROOT              - set to the enviroment variable CGALROOT, IF defined (can be empty)

# If found, the folder containing the CGAL-specific CMake stuff is added to CMAKE_MODULE_PATH

set(CMAKE_ALLOW_LOOSE_LOOP_CONSTRUCTS true)

set(CGAL_LIBRARIES) 
set(CGAL_QT_LIBRARIES) 

if ( NOT CGAL_INCLUDE_DIRS OR NOT CGAL_LIBRARIES_DIRS OR NOT CGAL_CMAKE_MODULE_PATH )

  find_path(CGAL_INCLUDE_DIR 
            NAMES CGAL/basic.h
            PATHS @CGAL_SOURCE_DIR@/include 
                  $ENV{CGAL_DIR}/include  
        	  DOC "The directories containing include files for CGAL"
           )
           
  find_path(CGAL_CMAKE_MODULE_PATH CGALcommon.cmake
            PATHS @CGAL_SOURCE_DIR@/cmake/modules 
                  $ENV{CGAL_DIR}/cmake/modules 
                  ${CMAKE_MODULE_PATH}
        	  DOC "The directories containing CGAL CMake stuff"
           )

endif()

if ( CGAL_INCLUDE_DIR AND CGAL_CMAKE_MODULE_PATH )
  set( CGAL_FOUND TRUE )
  set( CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${CGAL_CMAKE_MODULE_PATH})
else()
  if ( CGAL_FIND_REQUIRED)
    message(FATAL_ERROR "Could NOT find CGAL")
  else()
    if (NOT CGAL_FIND_QUIETLY)
      message(STATUS "Could NOT find CGAL")
    endif()
  endif()  
endif()

mark_as_advanced( CGAL_CMAKE_MODULE_PATH )
