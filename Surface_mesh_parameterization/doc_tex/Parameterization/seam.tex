\section{Cutting a Mesh}

\subsection{Computing a Cut}

All surface parameterization methods proposed in this package only
deal with topological discs.  The input mesh can be of any genus and
have any number of connected components, but if it is not a topological
disc, it has to come with a description of a border (an oriented list of
vertices) which is the border of a topological disc.  If no border  is
given as input, we assume that the surface border is the longest border already
in the input mesh (the other borders will be considered as holes).

% pierre: big contradiction here - it can be something else than a
% disk then!

This package does not provide any algorithm to transform a closed mesh
of arbitrary genus into a topological disk, the user being responsible
for computing such a cut. Nevertheless we provide in
\ccc{polyhedron_ex_parameterization.C} a simple cutting algorithm for
the sake of completeness.


\subsection{Applying a Cut}

Parameterization methods in this package only support triangulated
surfaces that are homeomorphic to a disk (models of
\ccc{ParameterizationMesh_3}). This software design simplifies the
implementation of all new parameterization methods based on linear
solvers.

\ccc{Parameterization_mesh_patch_3} class is responsible for virtually
{\em cutting} a patch to a \ccc{ParameterizationPatchableMesh_3} mesh,
to make it similar ffromt he interface point of view to a topological
disk with a \ccc{ParameterizationMesh_3} interface.

\ccc{ParameterizationPatchableMesh_3} inherits from concept \ccc{ParameterizationMesh_3}, thus is a concept for a 3D surface mesh.
\ccc{ParameterizationPatchableMesh_3} adds the ability to support patches and virtual seams. Patches are a subset of a 3D mesh. Virtual seams are the ability to behave exactly as if the surface was {\em cut} following a certain path.

The \ccc{ParameterizationMesh_3} interfaces with both the 2D
Triangulation Data Structure enriched with 3D points (not yet
implemented) and the Polyhedron are also models of
\ccc{ParameterizationPatchableMesh_3}:

\ccc{CGAL::Parameterization_polyhedron_adaptor_3}  \\


\subsection{Cutting a Mesh Example}

The code below virtually {\em cuts} a \ccc{Polyhedron_3} mesh to make
it a topological disk, then applies the default parameterization:

\begin{ccExampleCode}

// CGAL kernel
typedef CGAL::Cartesian<double>                             Kernel;

// Mesh true type and parameterization adaptors
typedef CGAL::Polyhedron_3<Kernel>                          Polyhedron;
typedef CGAL::Parameterization_polyhedron_adaptor_3<Polyhedron>
                                                            Parameterization_polyhedron_adaptor;
typedef CGAL::Parameterization_mesh_patch_3<Parameterization_polyhedron_adaptor>
                                                            Mesh_patch_polyhedron;

// Parameterizers base class for this kind of mesh
typedef CGAL::Parameterizer_traits_3<Mesh_patch_polyhedron> Parameterizer;

// Type describing a border or seam as a vertex list
typedef std::list<Parameterization_polyhedron_adaptor::Vertex_handle>
                                                            Seam;

// If the mesh is a topological disk, extract its longest border,
// else compute a very simple cut to make it homeomorphic to a disk.
// Return the border/seam (empty on error)
static Seam cut_mesh(Parameterization_polyhedron_adaptor* mesh_adaptor)
{
    // To be implemented by package user
    ...
}

int main(int argc,char * argv[])
{
    Polyhedron mesh;
    ...

    // The Surface_mesh_parameterization package needs an adaptor to handle Polyhedron_3 meshes
    Parameterization_polyhedron_adaptor mesh_adaptor(&mesh);

    // The parameterization methods support only meshes that
    // are topological disks => we need to compute a "cutting" of the mesh
    // that makes it it homeomorphic to a disk
    Seam seam = cut_mesh(&mesh_adaptor);

    // Create adaptor that virtually "cuts" the mesh following the 'seam' path
    Mesh_patch_polyhedron   mesh_patch(&mesh_adaptor,
                                       seam.begin(),
                                       seam.end());

    // Floater Mean Value Coordinates parameterization
    Parameterizer::Error_code err = CGAL::parameterize(&mesh_patch);
    ...
}

\end{ccExampleCode}

See the complete example in \ccc{Mesh_cutting_parameterization.C}
example.


